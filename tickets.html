<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>票夹 - 电影院选座系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./tickets.css">
    <script src="./tickets.js"></script>
</head>

<body>
    <!-- 自定义警告弹窗 -->
    <div id="customAlert" class="custom-alert hidden">
        <div class="alert-content">
            <p id="alertMessage">警告消息！</p>
            <button id="closeAlert" class="btn-secondary">关闭</button>
        </div>
    </div>

    <!-- 票据详情/付款弹窗（复用） -->
    <div id="ticketDetailModal" class="custom-alert hidden">
        <div class="alert-content">
            <h3 id="ticketDetailTitle" style="margin-bottom: 15px;">票据详情</h3>
            <div id="ticketDetailContent">
                <!-- 票据详细信息内容由JS动态填充 -->
            </div>
            <div id="ticketDetailBtnBox">
            </div>
        </div>
    </div>

    <!-- 退票确认弹窗 -->
    <div id="confirmRefundModal" class="custom-alert hidden">
        <div class="alert-content">
            <h3 style="margin-bottom: 15px;" class="confirm-tip">您确定要退票吗？</h3>
            <div id="confirmRefundContent">
                <!-- 票据详细信息内容由JS动态填充 -->
            </div>
            <div style="display: flex; justify-content: center; gap: 18px; margin-top: 20px;">
                <button id="confirmRefundBtn" class="btn-danger confirm-refund-btn">确认退票</button>
                <button id="cancelRefundBtn" class="btn-secondary cancel-refund-btn">取消退票</button>
            </div>
        </div>
    </div>

    <!-- 取消预订确认弹窗 -->
    <div id="confirmCancelModal" class="custom-alert hidden">
        <div class="alert-content">
            <h3 style="margin-bottom: 15px;" class="confirm-tip">您确定要取消预订吗？</h3>
            <div id="confirmCancelContent">
                <!-- 票据详细信息内容由JS动态填充 -->
            </div>
            <div style="display: flex; justify-content: center; gap: 18px; margin-top: 20px;">
                <button id="confirmCancelBtn" class="btn-danger confirm-cancel-btn">确认取消</button>
                <button id="cancelCancelBtn" class="btn-secondary cancel-cancel-btn">返回</button>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1><i class="fas fa-ticket-alt"></i> 我的票夹</h1>
            <p class="subtitle">查看和管理您的电影票</p>
            <div class="header-icon">
                <i class="fas fa-folder-open"></i>
            </div>
            <button class="btn-back" id="backToHome">
                <i class="fas fa-home"></i> 返回首页
            </button>
        </header>

        <div class="content">
            <section class="ticket-section">
                <h2 class="section-title"><i class="fas fa-ticket-alt"></i> 已购电影票</h2>
                <div class="ticket-list" id="ticketList">
                    <!-- 动态渲染电影票 -->

                    <!-- <div class="ticket-item" id="film-ticket1">
                        <div class="ticket-info">
                            <h3>电影名称: 《示例电影》</h3>
                            <p>放映时间: 2025年7月10日 19:00</p>
                            <p>座位: A10, A11</p>
                            <p class="ticket-status status-unpaid" data-status="unpaid">状态: 未付款</p>
                        </div>
                        <div class="btn-box">
                            <button class="btn-primary pay-btn">
                                <i class="fas fa-credit-card"></i> 去付款
                            </button>
                            <button class="btn-danger cancel-btn">
                                <i class="fas fa-window-close"></i> 取消预定
                            </button>
                        </div>
                    </div>
                    <div class="ticket-item" id="film-ticket2">
                        <div class="ticket-info">
                            <h3>电影名称: 《示例电影2》</h3>
                            <p>放映时间: 2025年7月11日 23:00</p>
                            <p>座位: A10, A11</p>
                            <p class="ticket-status status-paid" data-status="paid">状态: 已付款</p>
                        </div>
                        <div class="btn-box">
                            <button class="btn-primary info-btn">
                                <i class="fas fa-info-circle"></i> 查看详情
                            </button>
                            <button class="btn-danger refund-btn">
                                <i class="fas fa-undo"></i> 退票
                            </button>
                        </div>
                    </div>
                    <div class="ticket-item" id="film-ticket2">
                        <div class="ticket-info">
                            <h3>电影名称: 《示例电影3》</h3>
                            <p>放映时间: 2025年7月11日 23:00</p>
                            <p>座位: A10, A11</p>
                            <p class="ticket-status status-paid" data-status="paid">状态: 已付款</p>
                        </div>
                        <div class="btn-box">
                            <button class="btn-primary info-btn">
                                <i class="fas fa-info-circle"></i> 查看详情
                            </button>
                            <button class="btn-danger refund-btn">
                                <i class="fas fa-undo"></i> 退票
                            </button>
                        </div>
                    </div> -->
                </div>
            </section>

            <section class="rules-section">
                <h2 class="section-title"><i class="fas fa-info-circle"></i> 票夹规则说明</h2>
                <ul>
                    <li>电影票不可转让，仅限本人使用。</li>
                    <li>退票需在电影开场前至少24小时申请。</li>
                    <li>退票成功后，金额将原路退回。</li>
                </ul>
            </section>
        </div>

        <footer>
            <p>清华大学软件学院 © 2025 | 《Web前端技术实训》大作业 | 电影院选座系统</p>
            <p>仅用于教学目的，请勿外传</p>
        </footer>
    </div>
</body>

</html>